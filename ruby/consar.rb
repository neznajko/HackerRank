################################################################
################################################################
################################################################
################################################################
################################################################
################################################################
# www.hackerrank.com/challenges/construct-the-array/problem
################################################################
################################################################
################################################################
################################################################
MOD = 1000000007
################################################################
################################################################
def countArray( n, k, x )
    Consar.new( n, k, x ).vrooom
end
################################################################
################################################################
################################################################
################################################################
################################################################
# k                                          n | 0 | 1 | 2 | 3 |
# 3 ########################################## |   | 1 | 1 |   |
# 2 ########################################## |   | 2 | 0 | x |
# 1 ########################################## | 1 | 1 | 1 |   |
# 0 ########################################## |   |   |   |   |
# # ########################################## '''''''''''''''''
# # ########################################## '''''''''''''''''
# s ########################################## '   ' 4 ' 2 '   '
################################################################
# 1) メアリーさんは何時に起きますか。
#    七時半に起きます。（７：３０ A.M ）
#    Sie steht um halb acht auf.
################################################################
# 2) メアリーさんは何時に学校に行きますか。
#    八時半に学校に行きます。 
#    Sie geht um halb neun zur Schule.
################################################################
# 3) メアリーさんは何時に昼ご飯を食べますか。 
#    十二時に昼ご飯を食べます。
#    Sie isst um zwölf Uhr zu Mittag.
################################################################
# 4) メアリーさんは何時にコーヒーを飲みますか。
#    三時にコーヒーを飲みます。 
#    Sie trinkt um drei Uhr Kaffee.
################################################################
# 5) メアリーさんは何時にうちに帰りますか。
#    五時にうちに帰ります。
#    Sie geht um fűnf Uhr nach House zurűck! 
################################################################
# 6) メアリーさんは何時に勉強しますか。
#    八時に勉強します。
#    Sie studiert um acht Uhr.
################################################################
# 7) メアリーさんは何時に寝ますか。
#    十一時半に寝ます。
#    Sie schläft um halb zwölf.
################################################################
class Consar

    def initialize( n, k, x )
        @n = n
        @k = k
        @x = x
    end

    def vrooom
        s = @k - 1
        y = 1
        u = 0
        ( @n - 3 ).times do
            y = s - y
            u = s - u
            s = u + ( @k - 1 ) * y 
        end
        ( s - ( @x == 1 ? u : y )) % MOD
    end

end
################################################################
################################################################
################################################################
################################################################
first_multiple_input = gets.rstrip.split #######################
n = first_multiple_input[0].to_i ###############################
k = first_multiple_input[1].to_i ###############################
x = first_multiple_input[2].to_i ###############################
answer = countArray n, k, x ####################################
puts answer ####################################################
################################################################
################################################################
################################################################
################################################################
#                                                Congratulations 
#                                      You solved this challenge
#       Would you like to challenge your friends? f | Cross | in
# Points:                                           730.75 / 850
# Rank:                                                   283585 ..
# Exact Time:    It will be 12 hours, 30 minutes, 12 seconds and
#                                            104543 milliseconds

